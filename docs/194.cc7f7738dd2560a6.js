"use strict";(self.webpackChunkE_Commercenew=self.webpackChunkE_Commercenew||[]).push([[194],{8194:(S,m,s)=>{s.r(m),s.d(m,{UserModule:()=>w});var g=s(6895),l=s(7251),n=s(4006),v=s(1373),u=s.n(v),t=s(4650),U=s(4679),Z=s(1736),A=s(4859),c=s(3546),d=s(3916),x=s(7392),b=s(4144);function T(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"mat-card")(6,"mat-card-header")(7,"h2",6),t._uU(8,"SIGN UP FORM (USER REGISTRATION)"),t.qZA()(),t._UZ(9,"hr"),t.TgZ(10,"mat-card-content")(11,"form",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"NAME:"),t.qZA(),t._UZ(15,"input",9),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18,"EMAIL:"),t.qZA(),t._UZ(19,"input",10),t.qZA(),t.TgZ(20,"mat-form-field",8)(21,"mat-label"),t._uU(22," password"),t.qZA(),t._UZ(23,"input",11),t.TgZ(24,"button",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.hide=!r.hide)}),t.TgZ(25,"mat-icon"),t._uU(26),t.qZA()()(),t.TgZ(27,"mat-card-actions")(28,"div",2)(29,"div",13)(30,"button",14),t._uU(31,"Reset"),t.qZA()(),t.TgZ(32,"div",13)(33,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.registeruser(r.register))}),t._uU(34,"Signup"),t.qZA()()()()()(),t._UZ(35,"hr"),t.TgZ(36,"mat-card-footer")(37,"h4",16)(38,"span"),t._uU(39,"Already have an account?"),t.TgZ(40,"a",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.loginup())}),t._uU(41,"click here"),t.qZA(),t._uU(42," for Login"),t.qZA()()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(11),t.Q6J("formGroup",e.register),t.xp6(12),t.Q6J("type",e.hide?"password":"text"),t.xp6(3),t.Oqu(e.hide?"visibility_off":"visibility")}}function C(o,a){if(1&o){const e=t.EpF();t.TgZ(0,"div",1)(1,"div",2)(2,"div",18)(3,"div",4)(4,"div",5)(5,"mat-card")(6,"mat-card-header")(7,"h2",6),t._uU(8,"SIGN IN FORM (USER LOGIN)"),t.qZA()(),t._UZ(9,"hr"),t.TgZ(10,"mat-card-content")(11,"form",7)(12,"mat-form-field",8)(13,"mat-label"),t._uU(14,"EMAIL:"),t.qZA(),t._UZ(15,"input",10),t.qZA(),t.TgZ(16,"mat-form-field",8)(17,"mat-label"),t._uU(18," password"),t.qZA(),t._UZ(19,"input",11),t.TgZ(20,"button",12),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.hide=!r.hide)}),t.TgZ(21,"mat-icon"),t._uU(22),t.qZA()()(),t.TgZ(23,"mat-card-actions")(24,"div",2)(25,"div",19)(26,"button",20),t._uU(27,"Reset"),t.qZA()(),t.TgZ(28,"div",19)(29,"button",21),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.loginuser(r.login))}),t._uU(30,"Signin"),t.qZA()()()()()(),t._UZ(31,"hr"),t.TgZ(32,"mat-card-footer")(33,"h4",16)(34,"span"),t._uU(35,"Don't have an account?"),t.TgZ(36,"a",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.signupOn())}),t._uU(37,"click here"),t.qZA(),t._uU(38," for signup"),t.qZA()()()()()()()()()}if(2&o){const e=t.oxw();t.xp6(11),t.Q6J("formGroup",e.login),t.xp6(8),t.Q6J("type",e.hide?"password":"text"),t.xp6(3),t.Oqu(e.hide?"visibility_off":"visibility")}}const I=[{path:"",children:[{path:"",component:(()=>{class o{constructor(e,i,r){this.loginus=e,this.router=i,this.productser=r,this.hide=!1,this.userSignup=!1,this.register=new n.cw({name:new n.NI("",[n.kI.required]),password:new n.NI("",[n.kI.required]),email:new n.NI("",[n.kI.required])}),this.login=new n.cw({email:new n.NI("",[n.kI.required]),password:new n.NI("",[n.kI.required])})}registeruser(e){this.loginus.postregisteruser(e.value).subscribe(i=>{console.log("user register",i),u()("saved","go to login first","success"),this.loginup()})}loginuser(e){this.loginus.getregisteruser(e.value).subscribe(i=>{console.log(i),this.loginus.setuserresgister(i),i&&1===i.length?(u()("","login successful !","success"),this.router.navigate(["home"]),this.localToActualCart()):u()("","enter valid data","error")})}localToActualCart(){let e=localStorage.getItem("product"),i=localStorage.getItem("userregister"),r=i&&JSON.parse(i)[0].id;if(console.log("id check for cart ",r),e){let p=JSON.parse(e);p.forEach((f,M)=>{let h={...f,productId:f.id,userId:r};delete h.id,setTimeout(()=>{this.productser.addToCartPro(h).subscribe(J=>{console.log(J)})},500),p.length===M+1&&localStorage.removeItem("product")})}setTimeout(()=>{this.productser.getCartItemUser(r)},2e3)}ngOnInit(){}loginup(){this.userSignup=!0}signupOn(){this.userSignup=!1}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(U.r),t.Y36(l.F0),t.Y36(Z.M))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-user-auth"]],decls:4,vars:2,consts:[["class","container-fluid ",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-sm-12","col-md-8","col-lg-8","mx-auto","register"],[1,"row","my-5","justify-content-center"],[1,"cont","col-sm-12","col-md-7","col-lg-9"],[1,"text-center","my-3"],["action","",3,"formGroup"],["appearance","fill",1,"w-100"],["type","text","matInput","","formControlName","name","placeholder","enter your name"],["type","email","matInput","","formControlName","email","placeholder","enter your email"],["matInput","","formControlName","password","placeholder","enter password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"col-md-6"],["type","reset",1,"mx-5","btn","btn-secondary"],["type","button",1,"mx-3","btn","btn-primary",3,"click"],[1,"mx-3"],[1,"text-primary",3,"click"],[1,"col-sm-12","col-md-8","col-lg-8","mx-auto","login"],[1,"col-sm-12","col-md-6"],["type","reset",1,"mx-md-5","btn","btn-secondary"],["type","button",1,"mx-md-3","btn","btn-primary",3,"click"]],template:function(e,i){1&e&&(t._UZ(0,"br")(1,"br"),t.YNc(2,T,43,3,"div",0),t.YNc(3,C,39,3,"div",0)),2&e&&(t.xp6(2),t.Q6J("ngIf",!i.userSignup),t.xp6(1),t.Q6J("ngIf",i.userSignup))},dependencies:[g.O5,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u,A.lW,c.a8,c.dk,c.dn,c.hq,c.rt,d.KE,d.hX,d.R9,x.Hw,b.Nt],styles:[".register[_ngcontent-%COMP%]{background-image:linear-gradient(to right,rgba(141,59,216,.813),rgba(148,241,201,.881),rgba(197,55,150,.79),rgba(76,171,154,.826))}.login[_ngcontent-%COMP%]{background-image:linear-gradient(rgba(75,133,181,.826),rgba(153,80,214,.868),rgba(87,184,108,.852),rgba(90,190,173,.813))}.cont[_ngcontent-%COMP%]{background-color:#7f7575c9}"]}),o})()}]}];let y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[l.Bz.forChild(I),l.Bz]}),o})();var _=s(5381),N=s(529);let w=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[g.ez,y,n.u5,n.UX,_.q,N.JF]}),o})()}}]);